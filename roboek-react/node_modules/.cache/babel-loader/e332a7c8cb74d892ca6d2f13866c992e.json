{"ast":null,"code":"import _objectSpread from\"C:/Users/HP/ipmedt4/ipmedt4-groep1-react/roboek-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"C:/Users/HP/ipmedt4/ipmedt4-groep1-react/roboek-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/HP/ipmedt4/ipmedt4-groep1-react/roboek-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/Users/HP/ipmedt4/ipmedt4-groep1-react/roboek-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/HP/ipmedt4/ipmedt4-groep1-react/roboek-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import'./Bibliotheek.css';import axios from\"axios\";import Slider from\"react-slick\";import{Link}from\"react-router-dom\";import Favoriet from'./components/Favoriet';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Searchbar=/*#__PURE__*/function(_React$Component){_inherits(Searchbar,_React$Component);var _super=_createSuper(Searchbar);function Searchbar(){var _this;_classCallCheck(this,Searchbar);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={genre:\"\",persons:[],boek_id:'',bgColor:\"\",liked:[]};return _this;}_createClass(Searchbar,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;this.setState({genre:window.location.pathname.split('/')[2]});var genreReq=window.location.pathname.split('/')[2];axios.get(\"http://127.0.0.1:8000/api/bibliotheek/\"+genreReq).then(function(res){var boeken=res.data.boeken;var favorieten=res.data.favorieten;_this2.setState({persons:boeken,liked:favorieten});console.log(_this2.state.liked);});}},{key:\"render\",value:function render(){var _this3=this;var settings={dots:true,infinite:true,speed:500,slidesToShow:1,slidesToScroll:1,nextArrow:/*#__PURE__*/_jsx(Arrow,{type:\"next\"}),prevArrow:/*#__PURE__*/_jsx(Arrow,{type:\"prev\"})};function Arrow(props){var className=props.type===\"next\"?\"nextArrow\":\"prevArrow\";className+=\" arrow\";console.log(className);var char=props.type===\"next\"?\"ðŸ‘‰\":\"ðŸ‘ˆ\";return/*#__PURE__*/_jsx(\"span\",{className:className,onClick:props.onClick,children:char});}var addToFavorites=function addToFavorites(id){_this3.setState({boek_id:id,bgColor:\"red\"});console.log(_this3.state.bgColor);axios.post('http://127.0.0.1:8000/api/bibliotheek/favorite/'+id,{\"id\":id}).then(function(res){var favorite=res.data;_this3.setState({boek_id:favorite});console.log(_this3.state.boek_id);console.log(res);});};var DeleteFromFavorites=function DeleteFromFavorites(id){_this3.setState({boek_id:id});console.log(\"boek id = \"+_this3.state.boek_id);axios.delete('http://127.0.0.1:8000/api/bibliotheek/favorite/'+id,{\"id\":id}).then(function(res){var favorite=res.data;_this3.setState({boek_id:favorite});console.log(_this3.state.boek_id);console.log(res);});};return/*#__PURE__*/_jsxs(\"section\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Bibliotheek\"}),/*#__PURE__*/_jsx(\"section\",{className:\"genre\",children:/*#__PURE__*/_jsx(\"p\",{\"data-genre\":this.state.genre,className:\"genre__naam\",children:this.state.genre})}),/*#__PURE__*/_jsx(Slider,_objectSpread(_objectSpread({},settings),{},{children:this.state.persons.map(function(boek){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"article\",{className:\"bookcard\",children:[/*#__PURE__*/_jsx(Favoriet,{favoriet:boek.id,liked:_this3.state.liked,clickHandler:addToFavorites},boek.id),/*#__PURE__*/_jsx(Link,{to:\"/details/\"+boek.id,children:/*#__PURE__*/_jsx(\"img\",{className:\"bookcard__cover\",src:boek.image,alt:\"cover {boek.titel}\"})}),/*#__PURE__*/_jsx(\"section\",{className:\"u-buttonSection\",children:/*#__PURE__*/_jsx(Link,{to:\"/details/\"+boek.id,className:\"u-button\",children:\"Ontdek mij\"})})]})});})}))]});}}]);return Searchbar;}(React.Component);export default Searchbar;","map":{"version":3,"sources":["C:/Users/HP/ipmedt4/ipmedt4-groep1-react/roboek-react/src/Bibliotheek/Bibliotheek.js"],"names":["React","axios","Slider","Link","Favoriet","Searchbar","state","genre","persons","boek_id","bgColor","liked","setState","window","location","pathname","split","genreReq","get","then","res","boeken","data","favorieten","console","log","settings","dots","infinite","speed","slidesToShow","slidesToScroll","nextArrow","prevArrow","Arrow","props","className","type","char","onClick","addToFavorites","id","post","favorite","DeleteFromFavorites","delete","map","boek","image","Component"],"mappings":"20BAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAO,mBAAP,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,MAAP,KAAmB,aAAnB,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,MAAOC,CAAAA,QAAP,KAAqB,uBAArB,C,2FAEMC,CAAAA,S,mVACJC,K,CAAQ,CACNC,KAAK,CAAE,EADD,CAENC,OAAO,CAAE,EAFH,CAGNC,OAAO,CAAE,EAHH,CAINC,OAAO,CAAE,EAJH,CAKNC,KAAK,CAAE,EALD,C,sEAQR,4BAAoB,iBAClB,KAAKC,QAAL,CAAc,CACZL,KAAK,CAAEM,MAAM,CAACC,QAAP,CAAgBC,QAAhB,CAAyBC,KAAzB,CAA+B,GAA/B,EAAoC,CAApC,CADK,CAAd,EAGA,GAAIC,CAAAA,QAAQ,CAAGJ,MAAM,CAACC,QAAP,CAAgBC,QAAhB,CAAyBC,KAAzB,CAA+B,GAA/B,EAAoC,CAApC,CAAf,CACAf,KAAK,CAACiB,GAAN,CAAU,yCAA2CD,QAArD,EACGE,IADH,CACQ,SAAAC,GAAG,CAAI,CACX,GAAMC,CAAAA,MAAM,CAAGD,GAAG,CAACE,IAAJ,CAASD,MAAxB,CACA,GAAME,CAAAA,UAAU,CAAGH,GAAG,CAACE,IAAJ,CAASC,UAA5B,CACA,MAAI,CAACX,QAAL,CAAc,CAAEJ,OAAO,CAAEa,MAAX,CAAmBV,KAAK,CAAEY,UAA1B,CAAd,EACAC,OAAO,CAACC,GAAR,CAAY,MAAI,CAACnB,KAAL,CAAWK,KAAvB,EACD,CANH,EAOD,C,sBACD,iBAAQ,iBACN,GAAMe,CAAAA,QAAQ,CAAG,CACfC,IAAI,CAAE,IADS,CAEfC,QAAQ,CAAE,IAFK,CAGfC,KAAK,CAAE,GAHQ,CAIfC,YAAY,CAAE,CAJC,CAKfC,cAAc,CAAE,CALD,CAMfC,SAAS,cAAE,KAAC,KAAD,EAAO,IAAI,CAAC,MAAZ,EANI,CAOfC,SAAS,cAAE,KAAC,KAAD,EAAO,IAAI,CAAC,MAAZ,EAPI,CAAjB,CAUA,QAASC,CAAAA,KAAT,CAAeC,KAAf,CAAsB,CACpB,GAAIC,CAAAA,SAAS,CAAGD,KAAK,CAACE,IAAN,GAAe,MAAf,CAAwB,WAAxB,CAAsC,WAAtD,CACAD,SAAS,EAAI,QAAb,CACAZ,OAAO,CAACC,GAAR,CAAYW,SAAZ,EACA,GAAME,CAAAA,IAAI,CAAGH,KAAK,CAACE,IAAN,GAAe,MAAf,CAAwB,IAAxB,CAA+B,IAA5C,CACA,mBACE,aAAM,SAAS,CAAED,SAAjB,CAA4B,OAAO,CAAED,KAAK,CAACI,OAA3C,UACGD,IADH,EADF,CAKD,CAED,GAAME,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,CAACC,EAAD,CAAO,CAC5B,MAAI,CAAC7B,QAAL,CAAc,CAAEH,OAAO,CAAEgC,EAAX,CAAe/B,OAAO,CAAE,KAAxB,CAAd,EACAc,OAAO,CAACC,GAAR,CAAY,MAAI,CAACnB,KAAL,CAAWI,OAAvB,EACAT,KAAK,CAACyC,IAAN,CAAW,kDAAoDD,EAA/D,CAAmE,CAAC,KAAMA,EAAP,CAAnE,EACGtB,IADH,CACQ,SAAAC,GAAG,CAAI,CACX,GAAMuB,CAAAA,QAAQ,CAAGvB,GAAG,CAACE,IAArB,CACA,MAAI,CAACV,QAAL,CAAc,CAAEH,OAAO,CAAEkC,QAAX,CAAd,EACAnB,OAAO,CAACC,GAAR,CAAY,MAAI,CAACnB,KAAL,CAAWG,OAAvB,EACAe,OAAO,CAACC,GAAR,CAAYL,GAAZ,EAGD,CARH,EASD,CAZD,CAcA,GAAMwB,CAAAA,mBAAmB,CAAG,QAAtBA,CAAAA,mBAAsB,CAACH,EAAD,CAAO,CACjC,MAAI,CAAC7B,QAAL,CAAc,CAAEH,OAAO,CAAEgC,EAAX,CAAd,EACAjB,OAAO,CAACC,GAAR,CAAY,aAAe,MAAI,CAACnB,KAAL,CAAWG,OAAtC,EACAR,KAAK,CAAC4C,MAAN,CAAa,kDAAoDJ,EAAjE,CAAqE,CAAC,KAAMA,EAAP,CAArE,EACGtB,IADH,CACQ,SAAAC,GAAG,CAAI,CACX,GAAMuB,CAAAA,QAAQ,CAAGvB,GAAG,CAACE,IAArB,CACA,MAAI,CAACV,QAAL,CAAc,CAAEH,OAAO,CAAEkC,QAAX,CAAd,EACAnB,OAAO,CAACC,GAAR,CAAY,MAAI,CAACnB,KAAL,CAAWG,OAAvB,EACAe,OAAO,CAACC,GAAR,CAAYL,GAAZ,EACD,CANH,EAOD,CAVD,CAYA,mBACE,wCACE,mCADF,cAEE,gBAAS,SAAS,CAAC,OAAnB,uBACI,UAAG,aAAY,KAAKd,KAAL,CAAWC,KAA1B,CAAiC,SAAS,CAAC,aAA3C,UAA0D,KAAKD,KAAL,CAAWC,KAArE,EADJ,EAFF,cAKE,KAAC,MAAD,gCAAYmB,QAAZ,eACK,KAAKpB,KAAL,CAAWE,OAAX,CAAmBsC,GAAnB,CAAuB,SAAAC,IAAI,qBAAI,kCAC5B,iBAAS,SAAS,CAAC,UAAnB,wBACI,KAAC,QAAD,EACE,QAAQ,CAAEA,IAAI,CAACN,EADjB,CAEE,KAAK,CAAE,MAAI,CAACnC,KAAL,CAAWK,KAFpB,CAGE,YAAY,CAAE6B,cAHhB,EAIOO,IAAI,CAACN,EAJZ,CADJ,cAOI,KAAC,IAAD,EAAM,EAAE,CAAE,YAAcM,IAAI,CAACN,EAA7B,uBACE,YAAK,SAAS,CAAC,iBAAf,CAAiC,GAAG,CAAEM,IAAI,CAACC,KAA3C,CAAkD,GAAG,CAAC,oBAAtD,EADF,EAPJ,cAUI,gBAAS,SAAS,CAAC,iBAAnB,uBACI,KAAC,IAAD,EAAM,EAAE,CAAE,YAAcD,IAAI,CAACN,EAA7B,CAAiC,SAAS,CAAC,UAA3C,wBADJ,EAVJ,GAD4B,EAAJ,EAA3B,CADL,GALF,GADF,CA0BD,C,uBAjGqBzC,KAAK,CAACiD,S,EAmG9B,cAAe5C,CAAAA,SAAf","sourcesContent":["import React from 'react';\r\nimport './Bibliotheek.css';\r\nimport axios from \"axios\";\r\nimport Slider from \"react-slick\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Favoriet from './components/Favoriet';\r\n\r\nclass Searchbar extends React.Component{\r\n  state = {\r\n    genre: \"\",\r\n    persons: [], \r\n    boek_id: '',\r\n    bgColor: \"\",\r\n    liked: []\r\n  }\r\n  \r\n  componentDidMount() {\r\n    this.setState({\r\n      genre: window.location.pathname.split('/')[2]\r\n    })\r\n    let genreReq = window.location.pathname.split('/')[2];\r\n    axios.get(`http://127.0.0.1:8000/api/bibliotheek/` + genreReq)\r\n      .then(res => {\r\n        const boeken = res.data.boeken;\r\n        const favorieten = res.data.favorieten;\r\n        this.setState({ persons: boeken, liked: favorieten });\r\n        console.log(this.state.liked);\r\n      })\r\n  }\r\n  render(){\r\n    const settings = {\r\n      dots: true,\r\n      infinite: true,\r\n      speed: 500,\r\n      slidesToShow: 1,\r\n      slidesToScroll: 1,\r\n      nextArrow: <Arrow type=\"next\" />,\r\n      prevArrow: <Arrow type=\"prev\" />\r\n    };\r\n\r\n    function Arrow(props) {\r\n      let className = props.type === \"next\" ? \"nextArrow\" : \"prevArrow\";\r\n      className += \" arrow\";\r\n      console.log(className);\r\n      const char = props.type === \"next\" ? \"ðŸ‘‰\" : \"ðŸ‘ˆ\";\r\n      return (\r\n        <span className={className} onClick={props.onClick}>\r\n          {char}\r\n        </span>\r\n      );\r\n    }\r\n    \r\n    const addToFavorites = (id) =>{\r\n      this.setState({ boek_id: id, bgColor: \"red\" })\r\n      console.log(this.state.bgColor);\r\n      axios.post('http://127.0.0.1:8000/api/bibliotheek/favorite/' + id, {\"id\": id})\r\n        .then(res => {  \r\n          const favorite = res.data\r\n          this.setState({ boek_id: favorite })\r\n          console.log(this.state.boek_id);\r\n          console.log(res);\r\n\r\n\r\n        });\r\n    }\r\n\r\n    const DeleteFromFavorites = (id) =>{\r\n      this.setState({ boek_id: id })\r\n      console.log(\"boek id = \" + this.state.boek_id);\r\n      axios.delete('http://127.0.0.1:8000/api/bibliotheek/favorite/' + id, {\"id\": id})\r\n        .then(res => {  \r\n          const favorite = res.data\r\n          this.setState({ boek_id: favorite })\r\n          console.log(this.state.boek_id);\r\n          console.log(res);\r\n        });\r\n    }\r\n\r\n    return (\r\n      <section>\r\n        <h1>Bibliotheek</h1>\r\n        <section className=\"genre\">\r\n            <p data-genre={this.state.genre} className=\"genre__naam\">{this.state.genre}</p>\r\n        </section>\r\n        <Slider {...settings}>\r\n            {this.state.persons.map(boek => <div>\r\n                <article className=\"bookcard\">\r\n                    <Favoriet \r\n                      favoriet={boek.id}\r\n                      liked={this.state.liked}\r\n                      clickHandler={addToFavorites}\r\n                      key={boek.id}\r\n                    />\r\n                    <Link to={\"/details/\" + boek.id}>\r\n                      <img className=\"bookcard__cover\" src={boek.image} alt=\"cover {boek.titel}\"/>\r\n                    </Link>\r\n                    <section className=\"u-buttonSection\">\r\n                        <Link to={\"/details/\" + boek.id} className=\"u-button\">Ontdek mij</Link>\r\n                    </section>\r\n                </article>\r\n            </div>)}\r\n        </Slider>\r\n      </section>\r\n    );\r\n  }\r\n}\r\nexport default Searchbar;"]},"metadata":{},"sourceType":"module"}